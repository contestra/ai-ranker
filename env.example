# .env.example â€” Prompter V7 (FastAPI/Fly.io)

# ----- App -----
ENV=dev
CREATE_ALL_ON_STARTUP=true
PROMPTER_V5_ENABLED=true
PROMPTER_PROBE_DISABLED=false

# ----- Server -----
# Uvicorn default is 8000 locally; Fly.io often maps to 8080 inside the container.
PORT=8000
# FLY_APP_NAME=your-fly-app-name

# ----- Database -----
# Dev (SQLite)
DB_URL=sqlite:///./dev.db
# Prod/Staging (Postgres example)
# DB_URL=postgresql+psycopg2://user:pass@host:5432/dbname

# Alembic tests / Makefile targets
TEST_PG_DSN=postgresql+psycopg2://user:pass@localhost:5432/prompter_test

# ----- Redis (Upstash) / Celery -----
UPSTASH_REDIS_URL=
CELERY_BROKER_URL=${UPSTASH_REDIS_URL}
CELERY_RESULT_BACKEND=${UPSTASH_REDIS_URL}

# ----- Providers -----
OPENAI_API_KEY=
# For Azure OpenAI (optional)
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_DEPLOYMENT=

GOOGLE_API_KEY=        # Gemini
ANTHROPIC_API_KEY=

# ----- LangSmith / LangChain (optional) -----
LANGSMITH_API_KEY=
LANGCHAIN_TRACING_V2=false
LANGCHAIN_PROJECT=prompter-local

# ----- Metrics (Prometheus) -----
METRICS_ENV=dev
METRICS_SERVICE=prompter-api

# ----- Probe (dev stub) -----
# Add artificial latency (ms) for provider probe stub
PROBE_SLEEP_MS=0
